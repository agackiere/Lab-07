---
title: "Lab 07 - Conveying the right message through visualisation"
author: "Anaelle Gackiere"
date: "02/27/2026"
output: github_document
---

### Load packages and data

```{r load-packages, message=FALSE}
library(tidyverse) 
```

### Exercise 1
Explore its structure and use it to re-construct the misleading visualization.

```{r misleading-visual}

df <- read_csv("kansas_grouped_rolling_avg.csv")

head(df)

# separate the two groups first
masked <- df %>% filter(mask_mandate == "Mask")
unmasked <- df %>% filter(mask_mandate == "No Mask")


# scale factor to align the two different ranges. I played around with the scale factor to 
  # make the lines overlap like they did in the graph 

scale_factor <- max(masked$rolling_avg) / max(unmasked$rolling_avg) * 0.9

ggplot() +
  geom_line(data = masked, aes(x = date, y = rolling_avg), color = "orange") +
  geom_line(data = unmasked, aes(x = date, y = rolling_avg * scale_factor), color = "blue") +
  scale_y_continuous(
    name = "Mask",
    limits = c(14, 28),
    sec.axis = sec_axis(~ . / scale_factor, name = "No Mask", breaks = seq(4, 14, by = 2))
  ) +
  labs(
    title = "Kansas COVID-19 7-Day Rolling Average of Daily Cases/Per 100K Population",
    subtitle = "Mask Counties Vs. No-Mask Mandate Counties\nSource: Kansas Department of Health and Environment",
    x = NULL
  ) +
  scale_x_date(date_labels = "%m/%d/%Y", date_breaks = "1 day") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 75, vjust = 0.5),
    panel.grid.minor = element_blank()
  )

```
...

### Exercise 2
Make a visualization that more accurately (and honestly) reflects the data and conveys a clear message.
```{r my-visual}

ggplot() +
  geom_line(data = masked, aes(x = date, y = rolling_avg, color = "Mask")) +
  geom_line(data = unmasked, aes(x = date, y = rolling_avg, color = "No Mask")) +
  scale_color_manual(values = c("Mask" = "orange", "No Mask" = "blue")) +
  labs(
    title = "Kansas COVID-19 7-Day Rolling Average of Daily Cases/Per 100K Population",
    subtitle = "Mask Counties Vs. No-Mask Mandate Counties\nSource: Kansas Department of Health and Environment",
    x = NULL,
    y = "Daily Cases per 100K Population",
    color = NULL
  ) +
  scale_x_date(date_labels = "%m/%d/%Y", date_breaks = "1 day") +
  theme_minimal() +
  theme(
    axis.text.x = element_text(angle = 75, vjust = 0.5),
    panel.grid.minor = element_blank(),
    legend.position = "right"
  )

```

...

### Exercise 3

In my visualization, it is easier to compare the daily cases of covid for no mask mandate counties vs. mask mandate counties. 

### Exercise 4

These data and my visualization suggests that mask wearing helps prevent covid. However, I admit that this is a causal claim; the visual communicates that there are fewer COVID cases for mask mandate counties compared to those who did not have mask mandates.   

### Exercise 5

Reflect on the message conveyed by your accurate visualization regarding mask-wearing and COVID-19. Discuss the key factors that contribute to this message, such as the variables used, the scale of the axes, and the type of visualization.




### Exercise 6
Plan Your Opposite Visualization: Briefly determine what opposite message you want to covey. Consider the data you have available (or could easily add).

### Exercise 7

Use visualization techniques to craft a chart or graph that conveys this contrary perspective. Pay careful attention to how different visualization choices, like altering the y-axis scale or changing the chart type, can influence the message received by the audience.
